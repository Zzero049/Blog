# 题目

写一个函数，求两个整数之和，要求在函数体内不得使用+、-、*、/四则运算符号。

## 描述

这是一篇针对初学者的题解
知识点：位运算
难度：二星

------

## 题解

题目描述：不使用加减乘除来实现两数加法、

### 方法：位运算

知识补充：

1. 按位与&，按位或|， 按位异或^
   ![image-20200829003609564](https://gitee.com/zero049/MyNoteImages/raw/master/image-20200829003609564.png)

2. 补码

   计算机中存整数n是用补码存的。

- 如果n为正数，则原码=反码=补码
- 如果n为负数，则补码=反码+1

本题是考察对位运算的运用，使用位运算来实现两数的加法。
设两数字的二进制形式 a，b ，其求和 s = a + b ，a(i) 代表 a 的二进制第 i 位，则分为以下四种情况：
![image-20200829003621830](https://gitee.com/zero049/MyNoteImages/raw/master/image-20200829003621830.png)

观察发现，无进位和运算就是按位异或结果，进位就是与运算结果但是需要左移一位，因为进位影响下一位的运算。
所以s = a + b,其实就是无进位和+进位的结果。
算法步骤：

1. 计算a和b的无进位和，和进位

2. 如果进位不为0，则说明a+b的结果等于无进位和+进位，此时，把无进位和作为a，进位作为b，继续计算

3. 如果进位等于0， 说明此时a+b的结果就等于无进位和，返回无进位和即可。

   如图：
   ![image-20200829003635170](https://gitee.com/zero049/MyNoteImages/raw/master/image-20200829003635170.png)

   从上面发现，num1^num2能保留两数某位0+1为1的情况，(num1&num2)<<1则能保留进位情况

代码：

```java
public class Solution {
    public int Add(int num1,int num2) {
        while(num2!=0){
            int carryBit = (num1&num2) << 1;
            num1 ^= num2;
            num2 = carryBit;		// 下一趟进位，再与本趟结果抑或
        }
        return num1 ;
    }
}
```

